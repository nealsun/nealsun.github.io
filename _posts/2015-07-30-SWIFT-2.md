---
layout:     post
title:      Swift 2
date:       2015-07-31 00:33:00
summary:    Swifté›†åˆäº†ç¼–ç¨‹è¯­è¨€æœ€æ–°çš„ç ”ç©¶æˆæœå’Œå¤šå¹´æ¥å¼€å‘è‹¹æœå¹³å°çš„ç»éªŒã€‚å¼•å…¥äº†å‘½åå‚æ•°ï¼Œç±»å‹æ¨æ–­ï¼Œæ¨¡å—åŒ–ï¼Œarcç­‰ç‰¹æ€§
categories: Swift2 iOS Apple Cocoa
---

### Modern Programming Language

â€‹     ä½•ä¸ºmodernï¼Œå³modern languageæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿè‹¹æœæ–‡æ¡£æ˜¯è¿™æ ·æè¿°çš„ï¼š

>Swift is the result of the latest research on programming languages, combined with decades of experience building Apple platforms. Named parameters brought forward from Objective-C are expressed in a clean syntax that makes APIs in Swift even easier to read and maintain. Inferred types make code cleaner and less prone to mistakes, while modules eliminate headers and provide namespaces. Memory is managed automatically, and you donâ€™t even need to type semi-colons. All this modern thinking results in a language that is easy and fun to use.

Swifté›†åˆäº†ç¼–ç¨‹è¯­è¨€æœ€æ–°çš„ç ”ç©¶æˆæœå’Œå¤šå¹´æ¥å¼€å‘è‹¹æœå¹³å°çš„ç»éªŒã€‚å¼•å…¥äº†å‘½åå‚æ•°ï¼Œç±»å‹æ¨æ–­ï¼Œæ¨¡å—åŒ–ï¼Œarcç­‰ç‰¹æ€§ï¼›

ä»¥ä¸‹æ˜¯å…¶ä»–ä¸€äº›é‡è¦ç‰¹æ€§ï¼š

1. é—­åŒ…
2. å…ƒç»„
3. æ³›å‹
4. å¿«é€Ÿç®€æ´çš„è¿­ä»£
5. æ”¯æŒ**æ–¹æ³•**ã€**æ‰©å±•**ã€**åè®®**çš„struct
6. å‡½æ•°å¼ç¼–ç¨‹
7. åŸç”Ÿçš„é”™è¯¯å¤„ç†æœºåˆ¶

Appleåœ¨iOS 9å‘å¸ƒåï¼ŒåŒæ—¶å¢åŠ äº†Objective-cä¸€äº›æ–°è¯­æ³•ï¼ˆå¦‚æ•°ç»„æ”¯æŒç±»å‹å£°æ˜ï¼‰ï¼Œåº”è¯¥æ˜¯ä¸ºäº†æ•´ä½“å‘swiftè¿ç§»åšå‡†å¤‡å§ã€‚

### Playground

â€‹    Playgroundæ˜¯éšswiftä¸€åŒå¼•å…¥çš„ä¸€ç§äº¤äº’å¼ç¼–ç¨‹æ¨¡å¼ï¼Œå®ƒå¯ä»¥è®©ä½ å†™ä»£ç çš„æ—¶å€™å®æ—¶æŸ¥çœ‹è¿è¡Œç»“æœï¼ŒåŒæ—¶playgroundçš„æ³¨é‡Šæ”¯æŒmarkdownè¯­æ³•ï¼Œè¿™ä½¿å¾—playgroundèƒ½å¤Ÿæ–¹ä¾¿çš„ä½œä¸ºå±•ç¤ºä»£ç çš„å·¥å…·ï¼Œæœ¬æ–‡æ‰€æœ‰çš„ä¾‹å­ä¹Ÿéƒ½ä¼šåœ¨playgroundä¸Šè¿è¡Œã€‚

### è¯­æ³•ç®€ä»‹

å­¦ä¹ è¯­è¨€æƒ¯ä¾‹ï¼Œä»*helloï¼Œ worldï¼*å¼€å§‹ï¼Œ

``` swift
print("Hello, world!"); //Hello, world!
```

![helloworld](/images/helloworld.png)

playgroundä¸Šçœ‹åˆ°çš„æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼Œå·¦è¾¹æ˜¯swiftè¯­å¥ï¼Œå³è¾¹æ˜¯è¯¥è¯­å¥æ‰§è¡Œçš„ç»“æœã€‚

<span class="red">æ³¨æ„ï¼š</span>swiftçš„å­—ç¬¦ä¸²ä¸éœ€è¦åƒobjcä¸€æ ·ä»¥`@`å¼€å¤´ã€‚



##### å˜é‡å£°æ˜

swiftåˆ†åˆ«ä½¿ç”¨å…³é”®å­—`let`å’Œ`var`æ¥å£°æ˜å¸¸é‡å’Œå˜é‡ï¼Œå˜é‡ç±»å‹çš„å£°æ˜è·Ÿåœ¨åç§°åé¢ç”¨`ï¼š`åˆ†éš”ã€‚ ä¸è¿‡swiftå¼•å…¥äº†ç±»å‹æ¨æ–­ï¼Œå½“ç¼–è¯‘å™¨å¯ä»¥æ¨æ–­å‡ºå˜é‡çš„ç±»å‹æ—¶ï¼Œä¸éœ€è¦æ˜¾å¼çš„å£°æ˜å˜é‡ç±»å‹ã€‚

``` swift
let aConst = 70.0 //doubleï¼Œç¼–è¯‘å™¨æ ¹æ®å­—é¢é‡70.0æ¨æ–­ç±»å‹æ˜¯double
var aVar = 30 //intï¼Œç¼–è¯‘å™¨æ ¹æ®å­—é¢é‡30æ¨æ–­ç±»å‹æ˜¯int
let aDoubleConst: Double = 70 //doubleï¼Œ éœ€è¦æ˜¾å¼å£°æ˜ï¼Œå› ä¸ºèµ‹äº†intçš„å­—é¢é‡ï¼Œç¼–è¯‘å™¨ä¼šæ¨æ–­ä¸ºæ•´å‹
var aStringVar: String //stringï¼Œéœ€è¦æ˜¾å¼å£°æ˜ï¼Œå› ä¸ºåªå£°æ˜äº†å˜é‡åï¼Œç¼–è¯‘å™¨ç¼ºå°‘æ¨æ–­ä¿¡æ¯
```

æ›´å¥½ç©çš„æ˜¯swiftæ”¯æŒä½¿ç”¨unicodeæ¥å£°æ˜å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿ä¸ªemojiè¡¨æƒ…æ¥å£°æ˜æ›´å½¢è±¡çš„å˜é‡åã€‚

``` swift
let ğŸ· = "pig"
let ğŸ¶ = "dog"
```

æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¹Ÿå˜å¾—ç®€å•ç›´è§‚ï¼Œé€šè¿‡`\()`æŠŠéœ€è¦æ›¿æ¢çš„å˜é‡åŒ…èµ·æ¥

``` swift
let name = "ä¸ä¸"
let height = 1.8
let weight = 77.0
let tall = "\(name)çš„èº«é«˜æ˜¯\(height)m,ä½“é‡æ˜¯\(weight)kgï¼Œé‚£ä¹ˆä»–çš„BMIæ˜¯\(weight/(height*height))"
```

å£°æ˜æ•°ç»„å’Œè¯å…¸å¯ä»¥ç”¨å­—é¢é‡æˆ–è€…åˆå§‹åŒ–æ–¹æ³•

``` swift
var aArray = ["apple", "banana", "orange"]
aArray[1] = "peach"

var aDict = [
				"name": "jack",
                "class": "math",
            ]
aDict["name"] = "jim"

let emptyArray = [String]()
let emptyDictionary = [String: Float]()
```

swiftçš„`Array`å’Œ`Dictionary`æ˜¯æœ‰ç±»å‹çš„ï¼Œå¦‚æœä¸€ä¸ª`Array`å£°æ˜ä¸ºä¸€ä¸ª`String`ç±»å‹ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ç»™ä»–å¢åŠ å…¶ä»–ç±»å‹çš„å˜é‡ï¼Œè€Œobjcçš„`NSArray`å¯ä»¥æ·»åŠ ä»»ä½•å¯¹è±¡ï¼Œswiftä¸ºäº†å…¼å®¹è¿™ä¸€ç‚¹å¼•å…¥äº†å‡ ä¸ªç‰¹æ®Šç±»å‹ï¼Œ`AnyObject`å’Œ`Any`ï¼Œä½¿å¾—`[AnyObject]`èƒ½æ·»åŠ ä»»ä½•å¯¹è±¡ã€‚è¿™æ ·çœŸçš„å¤§ä¸ˆå¤«ï¼Ÿä¸ºäº†å…¼å®¹æŸå¤±äº†ä¸€ä¸¢ä¸¢çš„ä¼˜é›…ï¼Ÿ

å¦å¤–swiftçš„`Array`å’Œ`Dictionary`æ˜¯æ²¡æœ‰mutableå’Œimmutableç±»å‹åŒºåˆ†çš„ï¼Œæ˜¯å¦å¯å˜å–å†³äºå£°æ˜æ—¶æ˜¯`let`è¿˜æ˜¯`var`ã€‚

å®éªŒé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ„Ÿè§‰æŒºå‰²è£‚çš„...

``` swift
var objcList = [] //ç±»å‹æ¨æ–­æ˜¯NSArray
var swiftList: [String] = [] //è¿™æ ·å°±æ˜¯Arrayäº†
```

##### Optional

å‰é¢å£°æ˜çš„å˜é‡éƒ½æ˜¯ä¸èƒ½è®¾ç½®ä¸º`nil`çš„ï¼Œå¦‚æœéœ€è¦è®¾ç½®`nil`ï¼Œéœ€è¦åœ¨å£°æ˜çš„æ—¶å€™åœ¨ç±»å‹åé¢å¢åŠ `?`æ ‡è¯†ç¬¦ï¼Œä»–è¡¨ç¤ºè¿™ä¸ªå˜é‡å¯èƒ½æœ‰å€¼å¯èƒ½æ˜¯`nil`ã€‚ Optinalåœ¨swiftä¸­æ˜¯ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œåé¢ä¸“é—¨å†™ä¸€ç¯‡æ¥ä»‹ç»ã€‚

``` swift
var aVar: String?
```



##### æ§åˆ¶æµ

`if`è¯­å¥

``` swift
var condition = true
if condition {
	...
}
```

conditionå¿…é¡»æ˜¯å¸ƒå°”è¡¨è¾¾å¼ï¼Œæ‰€ä»¥cæˆ–objcé‚£ç§ä¹ æƒ¯é0éç©ºçš„éšå¼è½¬æ¢çš„æ€ç»´è¡Œä¸é€šäº†ã€‚

åˆ¤æ–­Optionalæ˜¯å¦ä¸ºç©ºçš„æ­£ç¡®å§¿åŠ¿æ˜¯ï¼šä½¿ç”¨`let`æˆ–è€…`var`å£°æ˜å¸¸é‡èµ‹å€¼ï¼Œå¦‚æœOptionalæ˜¯ç©ºï¼Œé‚£ä¹ˆè¿›å…¥`else`è¯­å¥ï¼Œå¦åˆ™Optionalè§£å¼€åèµ‹å€¼ç»™å£°æ˜çš„å˜é‡ï¼Œä¸”åœ¨è¯­å¥ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥å˜é‡ã€‚

``` swift
var optionalName: String? = "John Appleseed"
var greeting = "Hello!"
if let name = optionalName {
    greeting = "Hello, \(name)"
}
```

`for ... in ...`è¯­å¥

`for  in `å¯ä»¥ç”¨æ¥éå†æ•°ç»„å’Œå­—å…¸ï¼Œå¦‚æœä½ ä¸å…³å¿ƒéå†çš„å€¼ï¼Œå¯ä»¥ç”¨`_`ä»£æ›¿ã€‚

``` swift
let aArray = [1, 2, 3, 4, 5, 6]
for num in aArray {
  print(num)
}

let aDict = ["1": 1, "2": 2, "3": 3]
for (key, value) in aDict {
  print("\(key) value is \(value)")
}
//å½“ä¸å…³å¿ƒvalueçš„å€¼æ—¶ç”¨_ä»£æ›¿
for (key, _) in aDict {
  print(key)
}
```

`...`å’Œ`..<`æ˜¯`for in `è¿­ä»£indexçš„ç®€åŒ–å†™æ³•ï¼Œ`â€¦`åŒ…æ‹¬èµ·å§‹å€¼å’Œç»“æŸå€¼ï¼Œ`..<`åŒ…æ‹¬èµ·å§‹å€¼ä½†ä¸åŒ…æ‹¬ç»“æŸå€¼ï¼Œç›´æ¥çœ‹ä»£ç å§ã€‚

``` swift
//åŸæ¥
for let i=0; i<10; i++ {
  ...
}

//ç°åœ¨
for i in 0..<10 {
  ...
}
```



`switch`å˜å¾—å¼ºå¤§çš„å¤šï¼Œä¸é™äºæ•´å‹å€¼çš„æ¯”è¾ƒï¼Œä¸”æ¯”è¾ƒçš„æ–¹å¼ä¹Ÿå˜å¾—æ›´åŠ ä¸°å¯Œï¼Œä½†`switch`éœ€è¦åˆ—å‡ºå®Œæ•´çš„`case`ï¼Œå¦‚æœæ²¡æœ‰å®Œæ•´åˆ—å‡ºé‚£ä¹ˆ`default`æ˜¯å¿…é¡»çš„ã€‚æ‰€ä»¥åœ¨éå†æšä¸¾ç±»å‹æ—¶ï¼Œè¦ä¹ˆå®Œæ•´åˆ—å‡ºæ‰€æœ‰æšä¸¾å€¼ï¼Œè¦ä¹ˆå¿…é¡»åŠ ä¸Š`default`ã€‚

å¦å¤–æ¯ä¸€ä¸ª`case`ä¸éœ€è¦æ·»åŠ `break`è¯­å¥ï¼Œå› ä¸ºswiftçš„`switch`è¯­å¥ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹ä¸€ä¸ªcaseã€‚å¦‚æœéœ€è¦å¤šä¸ªcaseæ‰§è¡ŒåŒä¸€ä¸ªè¯­å¥ï¼Œå¯ä»¥æŠŠå¤šä¸ªåˆ¤æ–­å†™åœ¨åŒä¸€ä¸ªcaseä¸­ç”¨**ï¼Œ**å¥½åˆ†å¼€ã€‚

``` swift
let vegetable = "red pepper"
switch vegetable {
case "celery":
    let vegetableComment = "Add some raisins and make ants on a log."
case "cucumber", "watercress":
    let vegetableComment = "That would make a good tea sandwich."
case let x where x.hasSuffix("pepper"):
    let vegetableComment = "Is it a spicy \(x)?"
default:
    let vegetableComment = "Everything tastes good in soup."
}
```

##### å‡½æ•°å’Œé—­åŒ…

``` swift
func sayHello(name: String, day: String) -> String {
    return "Hello \(name), today is \(day)."
}
```

å…³é”®å­—`func`å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œ ç´§è·Ÿç€å‡½æ•°åsayHelloï¼Œå‡½æ•°åå`()`å†…æ˜¯å½¢å‚ï¼Œå‚æ•°ååœ¨å‰ç±»å‹åœ¨åï¼Œå’Œå˜é‡å£°æ˜ä¸€æ ·ï¼Œ `->`åé¢æ˜¯å‡½æ•°è¿”å›ç±»å‹ï¼Œswiftå…è®¸å‡½æ•°é€šè¿‡å…ƒç»„è¿”å›å¤šä¸ªå€¼ ã€‚

åœ¨swifté‡Œï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œæ‰€ä»¥å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼ï¼Œä½œä¸ºå‡½æ•°å‚æ•°ï¼Œå‡½æ•°å¯ä»¥åµŒå¥—åœ¨å‡½æ•°é‡Œã€‚

``` swift
//å‡½æ•°åµŒå¥—
func returnFifteen() -> Int {
    var y = 10
    func add() {
        y += 5
    }
    add()
    return y
}
returnFifteen()

//å‡½æ•°ä½œä¸ºè¿”å›å€¼
func makeIncrementer() -> (Int -> Int) {
    func addOne(number: Int) -> Int {
        return 1 + number
    }
    return addOne
}
var increment = makeIncrementer()
increment(7)

//å‡½æ•°ä½œä¸ºå‚æ•°
func hasAnyMatches(list: [Int], condition: Int -> Bool) -> Bool {
    for item in list {
        if condition(item) {
            return true
        }
    }
    return false
}
func lessThanTen(number: Int) -> Bool {
    return number < 10
}
var numbers = [20, 19, 7, 12]
hasAnyMatches(numbers, lessThanTen)
```

é—­åŒ…

å‡½æ•°æ˜¯ç‰¹æ®Šçš„é—­åŒ…ã€‚é—­åŒ…æ˜¯æŠŠå£°æ˜æ—¶çš„ä¸Šä¸‹æ–‡å°è£…èµ·æ¥ï¼Œå³ä½¿è°ƒç”¨æ—¶åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ã€‚

é—­åŒ…çš„è¯­æ³•

é—­åŒ…ä½¿ç”¨`({})`åŒ…èµ·æ¥ï¼Œä½¿ç”¨å…³é”®å­—`in`åˆ†éš”å‡½æ•°å¤´å’Œå‡½æ•°ä½“ï¼Œå…¶ä¸­å¦‚æœä¸Šä¸‹æ–‡è¯­æ„æ˜ç¡®å¯ä»¥å¿½ç•¥å‡½æ•°å¤´ä¸­çš„å˜é‡åæˆ–è¿”å›å€¼æˆ–å…¨éƒ¨ã€‚

å¦‚æœå‡½æ•°ä½“åªæœ‰ä¸€è¡Œä¸éœ€è¦æ˜¾å¼`return`è¿”å›å€¼ï¼Œé‚£å¥å”¯ä¸€çš„æ‰§è¡Œè¯­å¥å°±ä¼šä½œä¸ºè¿”å›å€¼ã€‚

é—­åŒ…ä½“ä¸­å¯ä»¥ç”¨å‚æ•°åºå·æ¥è®¿é—®ï¼ˆ`$0`, `$1`ï¼‰

``` swift
//ä»¥ä¸‹ä¸‰ç§é—­åŒ…å£°æ˜ï¼Œå®ç°çš„åŠŸèƒ½ç›¸åŒ
let mappedNumbers = numbers.map({
    (number: Int) -> Int in
    let result = 3 * number
    return result
})

let mappedNumbers = numbers.map({ number in 3 * number })

let mappedNumbers = numbers.map({ 3 * $0 })
```

##### ç±»å’Œå¯¹è±¡

``` swift
class Shape {
    var numberOfSides = 0
    func simpleDescription() -> String {
        return "A shape with \(numberOfSides) sides."
    }
}
```

ä½¿ç”¨å…³é”®å­—`class`å£°æ˜ä¸€ä¸ªç±»ï¼Œswiftçš„å¯¹è±¡æ²¡æœ‰ç»Ÿä¸€çš„åŸºç±»ï¼ŒObjcçš„å¯¹è±¡éƒ½æ˜¯ç»§æ‰¿ä¸`NSObject`ã€‚

å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡å¾ˆç®€å•ï¼š

``` swift
var shape = Shape()
```

ç»§æ‰¿ä¸€ä¸ªç±»ï¼š

``` swift
class NamedShape {
    var numberOfSides: Int = 0
    var name: String

    //åˆå§‹åŒ–æ—¶å¿…é¡»ç»™æ‰€æœ‰å±æ€§èµ‹å€¼ï¼Œæˆ–è€…åœ¨å±æ€§å£°æ˜æ—¶æä¾›é»˜è®¤å€¼
    init(name: String) {
        self.name = name
    }

    func simpleDescription() -> String {
        return "A shape with \(numberOfSides) sides."
    }
}

class Square: NamedShape {
    var sideLength: Double

    init(sideLength: Double, name: String) {
        self.sideLength = sideLength
        super.init(name: name)
        numberOfSides = 4
    }

    func area() ->  Double {
        return sideLength * sideLength
    }

    override func simpleDescription() -> String {
        return "A square with sides of length \(sideLength)."
    }
}
```

å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œå­ç±»è¦†ç›–çˆ¶ç±»å¿…é¡»ç”¨`override`å…³é”®å­—æ˜¾å¼å£°æ˜ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™ä¹Ÿä½“ç°äº†swiftç¼–è¯‘å™¨çš„ä¸¥è°¨ï¼Œé˜²æ­¢å†™ä»£ç æ—¶è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ã€‚

è®¡ç®—å‹å±æ€§ï¼Œå¯ä»¥æœ‰`get`å’Œ`set`æ–¹æ³•ï¼Œ`set`çš„é»˜è®¤å‚æ•°åå°±æ˜¯`newValue`

``` swift
class EquilateralTriangle: NamedShape {
    var sideLength: Double = 0.0

    init(sideLength: Double, name: String) {
        self.sideLength = sideLength
        super.init(name: name)
        numberOfSides = 3
    }

    var perimeter: Double {
        get {
            return 3.0 * sideLength
        }
        set {
            sideLength = newValue / 3.0
        }
    }

    override func simpleDescription() -> String {
        return "An equilateral triangle with sides of length \(sideLength)."
    }
}
```

è®¡ç®—å‹å±æ€§é€š`set`æ–¹æ³•ï¼Œå¯ä»¥åœ¨å±æ€§è¢«è®¾ç½®å‰åå¢åŠ ä»£ç æ§åˆ¶è¿™ä¸ªè®¾ç½®è¿‡ç¨‹ã€‚é‚£ä¹ˆå¯¹äºå­˜å‚¨å‹å±æ€§ï¼Œswiftæä¾›äº†`willSet`å’Œ`didSet`æ–¹æ³•æ¥æ§åˆ¶è®¾ç½®è¿‡ç¨‹ã€‚

``` swift
class TriangleAndSquare {
    var triangle: EquilateralTriangle {
        willSet {
            square.sideLength = newValue.sideLength
        }
    }
    var square: Square {
        willSet {
            triangle.sideLength = newValue.sideLength
        }
    }
    init(size: Double, name: String) {
        square = Square(sideLength: size, name: name)
        triangle = EquilateralTriangle(sideLength: size, name: name)
    }
}
```

##### æšä¸¾å’Œç»“æ„

swiftå¤§å¤§å¢å¼ºäº†`Enum`å’Œ`Struct`çš„èƒ½åŠ›ï¼Œä½¿ä»–ä»¬ä¸ä»…ä»…åªæ˜¯ä¸€ç§ç®€å•çš„åŸºæœ¬æ•°æ®äº†ã€‚

é¦–å…ˆæšä¸¾ä¸ä»…ä»…å±€é™äºå®šä¹‰æ•´å‹ç±»å‹ï¼Œè¿˜å¯ä»¥å…³è”å­—ç¬¦ä¸²ï¼Œæµ®ç‚¹æ•°ç­‰ï¼Œç”šè‡³æšä¸¾çš„æ¯ä¸€ä¸ªå€¼éƒ½ä¸éœ€è¦å’ŒæŸä¸ªåŸå§‹ç±»å‹å…³è”ï¼Œä»–ä»¬æœ¬èº«å°±æ˜¯ä»£è¡¨ä¸€ä¸ªå€¼ã€‚åŒæ—¶swiftçš„æšä¸¾ç±»å‹è¿˜èƒ½æ·»åŠ è‡ªå·±çš„æ–¹æ³•ã€‚

``` swift
//Rankè¿™ä¸ªEnumçš„åŸå§‹å€¼æ˜¯Intã€‚
//Intä½œä¸ºåŸå§‹å€¼ï¼Œé»˜è®¤å°±ä¼šè‡ªå¢ï¼Œå¯ä»¥çœç•¥ä¸ºæ²¡ä¸ªcaseèµ‹åŸå§‹å€¼
enum Rank: Int {
    case Ace = 1
    case Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten
    case Jack, Queen, King
    func simpleDescription() -> String {
        switch self {
        case .Ace:
            return "ace"
        case .Jack:
            return "jack"
        case .Queen:
            return "queen"
        case .King:
            return "king"
        default:
            return String(self.rawValue)
        }
    }
}
let ace = Rank.Ace
let aceRawValue = ace.rawValue //rowValueå°±æ˜¯enumå£°æ˜æ—¶æ²¡ä¸ªæšä¸¾å€¼åé¢çš„å®é™…å€¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ç”¨rowValueåˆ›å»ºä¸€ä¸ªæšä¸¾
let aceFromRawValue = Rank(rowValue: 1) // ç­‰ä»·äº Rank.Ace

//Enumä¹Ÿå¯ä»¥æ²¡æœ‰æšä¸¾å€¼ã€‚æ²¡æœ‰æšä¸¾å€¼çš„æ—¶å€™ï¼Œä¸éœ€è¦å£°æ˜æšä¸¾å€¼çš„ç±»å‹
enum Suit {
    case Spades, Hearts, Diamonds, Clubs
    func simpleDescription() -> String {
        switch self {
        case .Spades:
            return "spades"
        case .Hearts:
            return "hearts"
        case .Diamonds:
            return "diamonds"
        case .Clubs:
            return "clubs"
        }
    }
}
let hearts = Suit.Hearts
let heartsDescription = hearts.simpleDescription()
```

é™¤äº†`rowValue`ï¼Œ`Enum`è¿˜å¯ä»¥æœ‰å…³è”å€¼ï¼Œæ¯ä¸ª`Enum`çš„å®ä¾‹éƒ½æœ‰ä¸€æ ·çš„åŸå§‹å€¼ï¼Œä½†å¯ä»¥æœ‰ä¸åŒçš„å…³è”å€¼ï¼Œè¿™æ—¶å€™å¯ä»¥å¦‚ä¸‹å®šä¸€ä¸ªæšä¸¾ç±»å‹

``` swift
enum ServerResponse {
    case Result(String, String)
    case Error(String)
}

let success = ServerResponse.Result("6:00 am", "8:09 pm")
let failure = ServerResponse.Error("Out of cheese.")

switch success {
case let .Result(sunrise, sunset):
    let serverResponse = "Sunrise is at \(sunrise) and sunset is at \(sunset)."
case let .Error(error):
    let serverResponse = "Failure...  \(error)"
}
```

åœ¨swiftä¸­ï¼Œstructå‡ ä¹å’Œclassæœ‰ä¸€æ ·çš„èƒ½åŠ›ï¼Œæœ€å¤§çš„ä¸€ä¸ªä¸åŒå°±æ˜¯structæ˜¯å€¼ä¼ é€’ï¼Œclassæ˜¯å¼•ç”¨ä¼ é€’ã€‚

``` swift
struct Card {
    var rank: Rank
    var suit: Suit
    func simpleDescription() -> String {
        return "The \(rank.simpleDescription()) of \(suit.simpleDescription())"
    }
}
let threeOfSpades = Card(rank: .Three, suit: .Spades)
let threeOfSpadesDescription = threeOfSpades.simpleDescription()
```

##### åè®®å’Œæ‰©å±•

åè®®å’Œæ‰©å±•åœ¨æ„ä¹‰ä¸Šå’ŒObjcç±»ä¼¼ï¼Œç”¨`protocol`å£°æ˜åè®®ï¼Œ`extention`å£°æ˜æ‰©å±•ã€‚ç±»ï¼Œæšä¸¾ï¼Œç»“æ„ä½“éƒ½èƒ½ä½¿ç”¨åè®®ã€‚ä½¿ç”¨åè®®å°±åƒç»§æ‰¿ç±»ä¸€æ ·ï¼Œåç§°åé¢åŠ åè®®åç§°å¹¶ç”¨`:`åˆ†å¼€ï¼Œå¤šä¸ªåè®®å¯ç”¨é€—å·åˆ†å¼€ã€‚å¯ä»¥ä½¿ç”¨åè®®å£°æ˜å˜é‡ï¼Œè¿™ä¸ªå˜é‡åªèƒ½è®¿é—®è¿™ä¸ªåè®®å£°æ˜çš„æ–¹æ³•å’Œå±æ€§ã€‚

``` swift
protocol ExampleProtocol {
    var simpleDescription: String { get }
    mutating func adjust()   //mutatingè¡¨ç¤ºè¿™ä¸ªæ–¹æ³•éœ€è¦ä¿®æ”¹structå±æ€§ï¼Œç±»æ˜¯å¯ä»¥çœç•¥çš„ï¼Œå› ä¸ºç±»æœ¬æ¥å°±æ˜¯å¯ä»¥ä¿®æ”¹å±æ€§çš„ã€‚
}

class SimpleClass: ExampleProtocol {
    var simpleDescription: String = "A very simple class."
    var anotherProperty: Int = 69105
    func adjust() {
        simpleDescription += "  Now 100% adjusted."
    }
}
var a = SimpleClass()
a.adjust()
let aDescription = a.simpleDescription

struct SimpleStructure: ExampleProtocol {
    var simpleDescription: String = "A simple structure"
    //ç»“æ„ä½“å¿…é¡»ç”¨mutatingå£°æ˜æ–¹æ³•æ‰èƒ½ä¿®æ”¹
    mutating func adjust() {
        simpleDescription += " (adjusted)"
    }
}
var b = SimpleStructure()
b.adjust()
let bDescription = b.simpleDescription

extension Int: ExampleProtocol {
    var simpleDescription: String {
        return "The number \(self)"
    }
    mutating func adjust() {
        self += 42
    }
}
```

##### æ³›å‹

æœ‰äº†æ³›å‹ï¼Œå¯ä»¥å®ç°æ›´åŠ ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œå¢åŠ äº†ä»£ç çš„çµæ´»æ€§ï¼Œé«˜æ•ˆæ€§ï¼Œå®‰å…¨æ€§ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´ï¼Œè¯­æ„æ›´åŠ æ˜ç¡®ã€‚

å¯ä»¥åœ¨ç±»ï¼Œç»“æ„ä½“ï¼Œæšä¸¾ï¼Œå‡½æ•°å’Œæ–¹æ³•ä¸­ä½¿ç”¨æ³›å‹ã€‚

æ³›å‹çš„è¯­æ³•æ˜¯ç”¨ä¸€å¯¹å°–æ‹¬å·`<>`æŠŠæ³›å‹åæ‹¬èµ·æ¥ï¼Œç„¶åå¯ä»¥ä½¿ç”¨è¯¥åç§°æ¥ä½œä¸ºç±»å‹åä½¿ç”¨ã€‚

``` swift
func repeat<Item>(item: Item, times: Int) -> [Item] {
    var result = [Item]()
    for i in 0..<times {
        result.append(item)
    }
    return result
}

enum OptionalValue<T> {
    case None
    case Some(T)
}
var possibleInteger: OptionalValue<Int> = .None
possibleInteger = .Some(100)
```

å¯ä»¥ä½¿ç”¨`where`æ¥é™åˆ¶æ³›å‹ç±»å‹ï¼Œå¦‚éµå®ˆæŸç§åè®®ï¼Œæˆ–ä¸¤ä¸ªæ³›å‹æ˜¯å¦æ˜¯åŒä¸€ä¸ªç±»å‹ç­‰ã€‚åœ¨ç®€å•æƒ…å†µä¸‹ï¼Œå¯ä»¥çœç•¥`where`ã€‚

``` swift
func anyCommonElements <T, U where T: SequenceType, U: SequenceType, T.Generator.Element: Equatable, T.Generator.Element == U.Generator.Element> (lhs: T, rhs: U) -> Bool {
    for lhsItem in lhs {
        for rhsItem in rhs {
            if lhsItem == rhsItem {
                return true
            }
        }
    }
    return false
}
anyCommonElements([1, 2, 3], [3])
```

ä»¥ä¸Šå†…å®¹æ˜¯çœ‹äº†[A Swift Tour](https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/GuidedTour.html#//apple_ref/doc/uid/TP40014097-CH2-ID1)ååšå¾—ç¬”è®°ï¼Œåªæ˜¯ä¸€ä¸ªç®€å•çš„å¯¼å¼•ï¼Œå¯ä»¥ä¸€çª¥swiftçš„å…¨è²Œï¼Œå¹¶æ²¡æœ‰æ·±å…¥è¯­è¨€æ–°ç‰¹æ€§ï¼Œåé¢å¯¹äºå„ä¸ªé‡è¦çš„çŸ¥è¯†ç‚¹å»çœ‹äº†[Language Guide](https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-ID309)â€‹åå†åšè¯¦ç»†è®°å½•ã€‚